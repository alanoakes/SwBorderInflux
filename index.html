<!doctype html>
<html lang="en">
	<head>
		<!-- Required meta tags -->
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">

		<!-- Bootstrap CSS -->
		<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">
		<link href="styles.css" rel="stylesheet">

		<!-- Load plotly.js into the DOM -->
		<script src='https://cdn.plot.ly/plotly-latest.min.js'></script>

		<title>US Border Data</title>

		<style>
			body {
				margin: 5%;
			}
		</style>
	</head>
	<body>

		<h1>US Border Patrol Encounters Per Sector</h1>
		<i>FY21 TD as of March</i>

		<p>
			This data was obtained from the 
			<a href="https://www.cbp.gov/newsroom/stats/southwest-land-border-encounters/usbp-sw-border-apprehensions" target="_blank">
				US Customs and Border Patrol Protection
			</a>
			website.
		</p>

		<div id='divSankey'>
		</div>
		<script>
			var data = {
	type: "sankey",
	orientation: "h",
	node: {
		pad: 15,
		thickness: 30,
		line: {
			color: "black",
			width: 0.5
		},
		label: ["Unaccompied Children", "Family Unit", "Single Adult", "Big Bend", "Del Rio", "El Centro", "El Paso", "Laredo", "Rio Grande", "San Diego", "Tucson", "Yuma"],
		color: ["blue","orange","green","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue","blue"],
	},

	link: {
		source: [0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2],
		target: [3,4,5,6,7,8,9,10,11,3,4,5,6,7,8,9,10,11,3,4,5,6,7,8,9,10,11],
		value: [845,3431,1047,8636,2045,20964,1888,7079,1707,453,11148,939,9477,1507,52139,3834,4628,8183,14091,53991,21759,53695,50109,86367,50358,68436,11654]
	}
};

var data = [data];

var layout = {
	title: "YTD Encounter Type Totals Per Southwest Border Sector",
	font: {
		size: 10
	}
}

var config = {responsive: true}

Plotly.react('divSankey', data, layout, config);
		</script>
		<div id="divStackedBar">
		</div>
		<script>
			var trace1 = {
	x: ["Big Bend", "Del Rio", "El Centro", "El Paso", "Laredo", "Rio Grande", "San Diego", "Tucson", "Yuma"],
	y: [845,3431,1047,8636,2045,20964,1888,7079,1707],
	name: 'Unaccompanied Children',
	type: 'bar'

};

var trace2 = {
	x: ["Big Bend", "Del Rio", "El Centro", "El Paso", "Laredo", "Rio Grande", "San Diego", "Tucson", "Yuma"],
	y: [453,11148,939,9477,1507,52139,3834,4628,8183],
	name: 'Family Unit',
	type: 'bar'

};

var trace3 = {
	x: ["Big Bend", "Del Rio", "El Centro", "El Paso", "Laredo", "Rio Grande", "San Diego", "Tucson", "Yuma"],
	y: [14091,53991,21759,53695,50109,86367,50358,68436,11654],
	name: 'Single Adult',
	type: 'bar'

};

var data = [trace1, trace2, trace3];

var layout = {
	barmode: 'stack',
	title: 'YTD Encounter Types Traced to Southwest Border Sectors'  

};

var config = {responsive: true};

Plotly.newPlot('divStackedBar', data, layout, config);
		</script>

		<!-- Optional JavaScript; choose one of the two! -->

		<!-- Option 1: Bootstrap Bundle with Popper -->
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.bundle.min.js" integrity="sha384-JEW9xMcG8R+pH31jmWH6WWP0WintQrMb4s7ZOdauHnUtxwoG2vI5DkLtS3qm9Ekf" crossorigin="anonymous"></script>
		
		<!--
		<script src="https://github.com/alanoakes/SwBorderInflux/blob/master/divSankey.js"></script>
		<script src="https://github.com/alanoakes/SwBorderInflux/blob/master/divStackedBar.js"></script>
		-->
		<!-- Option 2: Separate Popper and Bootstrap JS -->
		<!--
			<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.1/dist/umd/popper.min.js" integrity="sha384-SR1sx49pcuLnqZUnnPwx6FCym0wLsk5JZuNx2bPPENzswTNFaQU1RDvt3wT4gWFG" crossorigin="anonymous"></script>
			<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.min.js" integrity="sha384-j0CNLUeiqtyaRmlzUHCPZ+Gy5fQu0dQ6eZ/xAww941Ai1SxSY+0EQqNXNE6DZiVc" crossorigin="anonymous"></script>
			-->
	</body>
</html>

